<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"xmlns:th="http://www.thymeleaf.org">

<head>
<meta charset="UTF-8">
<title>座席表</title>
<link rel="stylesheet" th:href="@{https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css}" />
<link rel="stylesheet" th:href="@{/seat.css}" />

</head>

<body>

     <div class="container">
        <div class="header">
			<div class="calender"></div>
        	<input class="date" id="selectedDate" th:value="${#dates.format(#dates.createNow(), 'yyyy-MM-dd')}" readonly>
			<div class="member-list"><a th:href="@{/member}">メンバ</a></div>			
			
		</div>
        
        
        <div class="date-controls">
            <button id="prevDate" onclick="changeDate(-1)">◀</button>
            <button id="nextDate" onclick="changeDate(+1)">▶</button>
        </div>
        
        <div class="seating-area">
			<div class="window-area">	
	            <div class="window-desk"></div>
	            <div class="seats">
					
					<form th:action="@{/member}" method="get" >　
<!--						//以下で、選択した日付＋座席IDを送信したい-->
						<button type="submit" class="seat"  name="reserve_info_1" value="1"></button>
				 	</form>
	                <button onclick="selectSeat('2')" class="seat">2</button>

	                <button onclick="selectSeat('3')" class="seat">3</button>
	                <div class="seat">4</div>
	                <div class="seat">5</div>
	                <div class="seat">6</div>
	            </div>
            </div>
            <div class="door-area">	
	            <div class="meeting-room">			
				</div>
				<div class="center-area">	
		            <div class="seats-col">
		                <div class="seat">7</div>
		                <div class="seat">8</div>
		                <div class="seat">9</div>
	                </div>
		            <div class="door-center-desk"></div>
	                <div class="seats-col">
		                <div class="seat">10</div>
		                <div class="seat">11</div>
		                <div class="seat">12</div>
		            </div>
	            </div>
	            <div class="right-area">
					<div class="seat-right">13</div>
					<div class="door-right-desk"></div>
				</div>
            </div>
        </div>
    </div>
    
 <script>
        function selectSeat(seatNumber) {
            var selectedDate = document.getElementById("selectedDate").value;
            var url = "member?seat=" + encodeURIComponent(seatNumber) + "&date=" + encodeURIComponent(selectedDate);
            window.location.href = url;
        }
    </script>


    
    <script th:inline="javascript">
    /*<![CDATA[*/
    function changeDate(offset) {
        var currentDate = new Date(document.getElementById('selectedDate').value);
        currentDate.setDate(currentDate.getDate() + offset);
        var dateString = currentDate.toISOString().slice(0,10);
        document.getElementById('selectedDate').value = dateString;
    }
    /*]]>*/
</script>

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
</body>
</html>